{"is_source_file": true, "format": "Python", "description": "This file defines SQLAlchemy ORM models for a document processing backend, including user management, document storage and versioning, and job tracking.", "external_files": ["flask_sqlalchemy", "sqlalchemy", "werkzeug.security"], "external_methods": ["generate_password_hash", "check_password_hash"], "published": ["User", "Document", "DocumentVersion", "ProcessingJob", "UserDocument", "JobStatus"], "classes": [{"name": "JobStatus", "description": "Enum representing the status of a processing job (Pending, Running, Success, Failed)."}, {"name": "User", "description": "Represents a user account with attributes and methods for password management."}, {"name": "Document", "description": "Represents a stored document with metadata and relationships to versions and users."}, {"name": "DocumentVersion", "description": "Tracks different versions of a document, including storage info and OCR data."}, {"name": "ProcessingJob", "description": "Tracks processing tasks related to documents, including status and timestamps."}, {"name": "UserDocument", "description": "Associates users with documents and roles."}], "methods": [{"name": "set_password(self, password: str, rounds: int = 12)", "description": "Hashes and sets the user's password using Werkzeug's security utilities.", "scope": "User", "scopeKind": "class"}, {"name": "bool check_password(self, password: str)", "description": "Verifies a plaintext password against the stored hash.", "scope": "User", "scopeKind": "class"}, {"name": "apply_basic_indexes()", "description": "Placeholder for applying additional database indexes at runtime; mainly relevant for development.", "scope": "", "scopeKind": ""}, {"name": "seed_admin_if_missing(db_session, email: str, password: str)", "description": "Creates an admin user with specified email and password if it does not already exist.", "scope": "", "scopeKind": ""}], "calls": ["generate_password_hash", "check_password_hash", "func.lower", "db_session.query", "db_session.add", "db_session.commit"], "search-terms": ["SQLAlchemy models", "User management", "Document versioning", "OCR processing", "Job tracking"], "state": 2, "file_id": 8, "knowledge_revision": 70, "git_revision": "cee98bc67f954417e8827b53f65a17128b12be7f", "revision_history": [{"17": ""}, {"61": "82b473343a59e362c8f258687bc9b10c13518634"}, {"69": "82b473343a59e362c8f258687bc9b10c13518634"}, {"70": "cee98bc67f954417e8827b53f65a17128b12be7f"}], "ctags": [{"_type": "tag", "name": "Document", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^class Document(db.Model):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DocumentVersion", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^class DocumentVersion(db.Model):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "FAILED", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    FAILED = \"FAILED\"$/", "language": "Python", "kind": "variable", "scope": "JobStatus", "scopeKind": "class"}, {"_type": "tag", "name": "JobStatus", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^class JobStatus(str, Enum):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PENDING", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    PENDING = \"PENDING\"$/", "language": "Python", "kind": "variable", "scope": "JobStatus", "scopeKind": "class"}, {"_type": "tag", "name": "ProcessingJob", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^class ProcessingJob(db.Model):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RUNNING", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    RUNNING = \"RUNNING\"$/", "language": "Python", "kind": "variable", "scope": "JobStatus", "scopeKind": "class"}, {"_type": "tag", "name": "SUCCESS", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    SUCCESS = \"SUCCESS\"$/", "language": "Python", "kind": "variable", "scope": "JobStatus", "scopeKind": "class"}, {"_type": "tag", "name": "User", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^class User(db.Model):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserDocument", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^class UserDocument(db.Model):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    __tablename__ = \"document_versions\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "DocumentVersion", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    __tablename__ = \"documents\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "Document", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    __tablename__ = \"processing_jobs\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "ProcessingJob", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    __tablename__ = \"user_documents\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "UserDocument", "scopeKind": "class"}, {"_type": "tag", "name": "__tablename__", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    __tablename__ = \"users\"$/", "file": true, "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "apply_basic_indexes", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^def apply_basic_indexes():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    category = db.Column(db.String(128), nullable=True, index=True)  # auto-categorized label$/", "language": "Python", "kind": "variable", "scope": "Document", "scopeKind": "class"}, {"_type": "tag", "name": "check_password", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    def check_password(self, password: str) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "member", "signature": "(self, password: str)", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "checksum", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    checksum = db.Column(db.String(128), nullable=True, index=True)$/", "language": "Python", "kind": "variable", "scope": "DocumentVersion", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    created_at = db.Column(db.DateTime, nullable=False, default=datetime.utcnow)$/", "language": "Python", "kind": "variable", "scope": "Document", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    created_at = db.Column(db.DateTime, nullable=False, default=datetime.utcnow)$/", "language": "Python", "kind": "variable", "scope": "DocumentVersion", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    created_at = db.Column(db.DateTime, nullable=False, default=datetime.utcnow)$/", "language": "Python", "kind": "variable", "scope": "ProcessingJob", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    created_at = db.Column(db.DateTime, nullable=False, default=datetime.utcnow)$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    created_at = db.Column(db.DateTime, nullable=False, default=datetime.utcnow)$/", "language": "Python", "kind": "variable", "scope": "UserDocument", "scopeKind": "class"}, {"_type": "tag", "name": "created_by", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    created_by = db.relationship(\"User\", foreign_keys=[created_by_id])$/", "language": "Python", "kind": "variable", "scope": "Document", "scopeKind": "class"}, {"_type": "tag", "name": "created_by_id", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    created_by_id = db.Column(db.Integer, db.ForeignKey(\"users.id\"), nullable=False)$/", "language": "Python", "kind": "variable", "scope": "Document", "scopeKind": "class"}, {"_type": "tag", "name": "db", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^db = SQLAlchemy()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    description = db.Column(db.Text, nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Document", "scopeKind": "class"}, {"_type": "tag", "name": "document", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    document = db.relationship(\"Document\")$/", "language": "Python", "kind": "variable", "scope": "ProcessingJob", "scopeKind": "class"}, {"_type": "tag", "name": "document", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    document = db.relationship(\"Document\", back_populates=\"versions\")$/", "language": "Python", "kind": "variable", "scope": "DocumentVersion", "scopeKind": "class"}, {"_type": "tag", "name": "document_id", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    document_id = db.Column(db.Integer, db.ForeignKey(\"documents.id\"), nullable=False, index=Tru/", "language": "Python", "kind": "variable", "scope": "DocumentVersion", "scopeKind": "class"}, {"_type": "tag", "name": "document_id", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    document_id = db.Column(db.Integer, db.ForeignKey(\"documents.id\"), nullable=False, index=Tru/", "language": "Python", "kind": "variable", "scope": "ProcessingJob", "scopeKind": "class"}, {"_type": "tag", "name": "document_id", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    document_id = db.Column(db.Integer, db.ForeignKey(\"documents.id\"), primary_key=True)$/", "language": "Python", "kind": "variable", "scope": "UserDocument", "scopeKind": "class"}, {"_type": "tag", "name": "documents", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    documents = db.relationship(\"Document\", secondary=\"user_documents\", back_populates=\"users\")$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    email = db.Column(db.String(255), unique=True, nullable=False, index=True)$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "extension", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    extension = db.Column(db.String(50), nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Document", "scopeKind": "class"}, {"_type": "tag", "name": "filename", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    filename = db.Column(db.String(1024), nullable=False)  # original filename$/", "language": "Python", "kind": "variable", "scope": "Document", "scopeKind": "class"}, {"_type": "tag", "name": "finished_at", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    finished_at = db.Column(db.DateTime, nullable=True)$/", "language": "Python", "kind": "variable", "scope": "ProcessingJob", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    id = db.Column(db.Integer, primary_key=True)$/", "language": "Python", "kind": "variable", "scope": "Document", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    id = db.Column(db.Integer, primary_key=True)$/", "language": "Python", "kind": "variable", "scope": "DocumentVersion", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    id = db.Column(db.Integer, primary_key=True)$/", "language": "Python", "kind": "variable", "scope": "ProcessingJob", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    id = db.Column(db.Integer, primary_key=True)$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "is_admin", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    is_admin = db.Column(db.Boolean, default=False, nullable=False)$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "latest_version_id", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    latest_version_id = db.Column(db.Integer, db.ForeignKey(\"document_versions.id\"), nullable=Tr/", "language": "Python", "kind": "variable", "scope": "Document", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    message = db.Column(db.Text, nullable=True)$/", "language": "Python", "kind": "variable", "scope": "ProcessingJob", "scopeKind": "class"}, {"_type": "tag", "name": "mime_type", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    mime_type = db.Column(db.String(255), nullable=True)$/", "language": "Python", "kind": "variable", "scope": "Document", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    name = db.Column(db.String(255), nullable=True)$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "ocr_json", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    ocr_json = db.Column(db.JSON, nullable=True)$/", "language": "Python", "kind": "variable", "scope": "DocumentVersion", "scopeKind": "class"}, {"_type": "tag", "name": "ocr_text", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    ocr_text = db.Column(db.Text, nullable=True)$/", "language": "Python", "kind": "variable", "scope": "DocumentVersion", "scopeKind": "class"}, {"_type": "tag", "name": "parents", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    parents = db.relationship(\"Document\", primaryjoin=\"Document.latest_version_id==DocumentVersi/", "language": "Python", "kind": "variable", "scope": "DocumentVersion", "scopeKind": "class"}, {"_type": "tag", "name": "password_hash", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    password_hash = db.Column(db.String(255), nullable=False)$/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    role = db.Column(db.String(32), nullable=False, default=\"owner\")  # owner, viewer, editor$/", "language": "Python", "kind": "variable", "scope": "UserDocument", "scopeKind": "class"}, {"_type": "tag", "name": "seed_admin_if_missing", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^def seed_admin_if_missing(db_session, email: str, password: str):$/", "language": "Python", "kind": "function", "signature": "(db_session, email: str, password: str)"}, {"_type": "tag", "name": "set_password", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    def set_password(self, password: str, rounds: int = 12):$/", "language": "Python", "kind": "member", "signature": "(self, password: str, rounds: int = 12)", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "size_bytes", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    size_bytes = db.Column(db.Integer, nullable=True)$/", "language": "Python", "kind": "variable", "scope": "DocumentVersion", "scopeKind": "class"}, {"_type": "tag", "name": "started_at", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    started_at = db.Column(db.DateTime, nullable=True)$/", "language": "Python", "kind": "variable", "scope": "ProcessingJob", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    status = db.Column(db.Enum(JobStatus), nullable=False, default=JobStatus.PENDING)$/", "language": "Python", "kind": "variable", "scope": "ProcessingJob", "scopeKind": "class"}, {"_type": "tag", "name": "storage_path", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    storage_path = db.Column(db.String(2048), nullable=False)  # path relative to STORAGE_ROOT$/", "language": "Python", "kind": "variable", "scope": "DocumentVersion", "scopeKind": "class"}, {"_type": "tag", "name": "tags", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    tags = db.Column(db.Text, nullable=True)  # comma separated tags$/", "language": "Python", "kind": "variable", "scope": "Document", "scopeKind": "class"}, {"_type": "tag", "name": "task_type", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    task_type = db.Column(db.String(64), nullable=False, default=\"OCR\")$/", "language": "Python", "kind": "variable", "scope": "ProcessingJob", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    title = db.Column(db.String(512), nullable=False)$/", "language": "Python", "kind": "variable", "scope": "Document", "scopeKind": "class"}, {"_type": "tag", "name": "updated_at", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    updated_at = db.Column(db.DateTime, nullable=False, default=datetime.utcnow, onupdate=dateti/", "language": "Python", "kind": "variable", "scope": "Document", "scopeKind": "class"}, {"_type": "tag", "name": "updated_at", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    updated_at = db.Column(db.DateTime, nullable=False, default=datetime.utcnow, onupdate=dateti/", "language": "Python", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    user_id = db.Column(db.Integer, db.ForeignKey(\"users.id\"), primary_key=True)$/", "language": "Python", "kind": "variable", "scope": "UserDocument", "scopeKind": "class"}, {"_type": "tag", "name": "users", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    users = db.relationship(\"User\", secondary=\"user_documents\", back_populates=\"documents\")$/", "language": "Python", "kind": "variable", "scope": "Document", "scopeKind": "class"}, {"_type": "tag", "name": "version", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    version = db.relationship(\"DocumentVersion\")$/", "language": "Python", "kind": "variable", "scope": "ProcessingJob", "scopeKind": "class"}, {"_type": "tag", "name": "version_id", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    version_id = db.Column(db.Integer, db.ForeignKey(\"document_versions.id\"), nullable=True, ind/", "language": "Python", "kind": "variable", "scope": "ProcessingJob", "scopeKind": "class"}, {"_type": "tag", "name": "versions", "path": "/home/kavia/workspace/code-generation/document-processing-platform-18817-18826/intelligent_receipt_processing_backend/app/models.py", "pattern": "/^    versions = db.relationship(\"DocumentVersion\", back_populates=\"document\", cascade=\"all, delet/", "language": "Python", "kind": "variable", "scope": "Document", "scopeKind": "class"}], "hash": "51930cfc5793f5e5f3a9354ba0f35999", "format-version": 4, "code-base-name": "intelligent_receipt_processing_backend", "filename": "intelligent_receipt_processing_backend/app/models.py", "fields": [{"name": "FAILED = \"FAILED\"", "scope": "JobStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "PENDING = \"PENDING\"", "scope": "JobStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "RUNNING = \"RUNNING\"", "scope": "JobStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "SUCCESS = \"SUCCESS\"", "scope": "JobStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"document_versions\"", "scope": "DocumentVersion", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"documents\"", "scope": "Document", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"processing_jobs\"", "scope": "ProcessingJob", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"user_documents\"", "scope": "UserDocument", "scopeKind": "class", "description": "unavailable"}, {"name": "__tablename__ = \"users\"", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "category = db.Column(db.String(128), nullable=True, index=True)  # auto-categorized label", "scope": "Document", "scopeKind": "class", "description": "unavailable"}, {"name": "checksum = db.Column(db.String(128), nullable=True, index=True)", "scope": "DocumentVersion", "scopeKind": "class", "description": "unavailable"}, {"name": "created_at = db.Column(db.DateTime, nullable=False, default=datetime.utcnow)", "scope": "Document", "scopeKind": "class", "description": "unavailable"}, {"name": "created_by = db.relationship(\"User\", foreign_keys=[created_by_id])", "scope": "Document", "scopeKind": "class", "description": "unavailable"}, {"name": "created_by_id = db.Column(db.Integer, db.ForeignKey(\"users.id\"), nullable=False)", "scope": "Document", "scopeKind": "class", "description": "unavailable"}, {"name": "db = SQLAlchemy()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "description = db.Column(db.Text, nullable=True)", "scope": "Document", "scopeKind": "class", "description": "unavailable"}, {"name": "document = db.relationship(\"Document\")", "scope": "ProcessingJob", "scopeKind": "class", "description": "unavailable"}, {"name": "document = db.relationship(\"Document\", back_populates=\"versions\")", "scope": "DocumentVersion", "scopeKind": "class", "description": "unavailable"}, {"name": "document_id = db.Column(db.Integer, db.ForeignKey(\"documents.id\"), nullable=False, index=Tru/", "scope": "DocumentVersion", "scopeKind": "class", "description": "unavailable"}, {"name": "document_id = db.Column(db.Integer, db.ForeignKey(\"documents.id\"), primary_key=True)", "scope": "UserDocument", "scopeKind": "class", "description": "unavailable"}, {"name": "documents = db.relationship(\"Document\", secondary=\"user_documents\", back_populates=\"users\")", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "email = db.Column(db.String(255), unique=True, nullable=False, index=True)", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "extension = db.Column(db.String(50), nullable=True)", "scope": "Document", "scopeKind": "class", "description": "unavailable"}, {"name": "filename = db.Column(db.String(1024), nullable=False)  # original filename", "scope": "Document", "scopeKind": "class", "description": "unavailable"}, {"name": "finished_at = db.Column(db.DateTime, nullable=True)", "scope": "ProcessingJob", "scopeKind": "class", "description": "unavailable"}, {"name": "id = db.Column(db.Integer, primary_key=True)", "scope": "Document", "scopeKind": "class", "description": "unavailable"}, {"name": "is_admin = db.Column(db.Boolean, default=False, nullable=False)", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "latest_version_id = db.Column(db.Integer, db.ForeignKey(\"document_versions.id\"), nullable=Tr/", "scope": "Document", "scopeKind": "class", "description": "unavailable"}, {"name": "message = db.Column(db.Text, nullable=True)", "scope": "ProcessingJob", "scopeKind": "class", "description": "unavailable"}, {"name": "mime_type = db.Column(db.String(255), nullable=True)", "scope": "Document", "scopeKind": "class", "description": "unavailable"}, {"name": "name = db.Column(db.String(255), nullable=True)", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "ocr_json = db.Column(db.JSON, nullable=True)", "scope": "DocumentVersion", "scopeKind": "class", "description": "unavailable"}, {"name": "ocr_text = db.Column(db.Text, nullable=True)", "scope": "DocumentVersion", "scopeKind": "class", "description": "unavailable"}, {"name": "parents = db.relationship(\"Document\", primaryjoin=\"Document.latest_version_id==DocumentVersi/", "scope": "DocumentVersion", "scopeKind": "class", "description": "unavailable"}, {"name": "password_hash = db.Column(db.String(255), nullable=False)", "scope": "User", "scopeKind": "class", "description": "unavailable"}, {"name": "role = db.Column(db.String(32), nullable=False, default=\"owner\")  # owner, viewer, editor", "scope": "UserDocument", "scopeKind": "class", "description": "unavailable"}, {"name": "size_bytes = db.Column(db.Integer, nullable=True)", "scope": "DocumentVersion", "scopeKind": "class", "description": "unavailable"}, {"name": "started_at = db.Column(db.DateTime, nullable=True)", "scope": "ProcessingJob", "scopeKind": "class", "description": "unavailable"}, {"name": "status = db.Column(db.Enum(JobStatus), nullable=False, default=JobStatus.PENDING)", "scope": "ProcessingJob", "scopeKind": "class", "description": "unavailable"}, {"name": "storage_path = db.Column(db.String(2048), nullable=False)  # path relative to STORAGE_ROOT", "scope": "DocumentVersion", "scopeKind": "class", "description": "unavailable"}, {"name": "tags = db.Column(db.Text, nullable=True)  # comma separated tags", "scope": "Document", "scopeKind": "class", "description": "unavailable"}, {"name": "task_type = db.Column(db.String(64), nullable=False, default=\"OCR\")", "scope": "ProcessingJob", "scopeKind": "class", "description": "unavailable"}, {"name": "title = db.Column(db.String(512), nullable=False)", "scope": "Document", "scopeKind": "class", "description": "unavailable"}, {"name": "updated_at = db.Column(db.DateTime, nullable=False, default=datetime.utcnow, onupdate=dateti/", "scope": "Document", "scopeKind": "class", "description": "unavailable"}, {"name": "user_id = db.Column(db.Integer, db.ForeignKey(\"users.id\"), primary_key=True)", "scope": "UserDocument", "scopeKind": "class", "description": "unavailable"}, {"name": "users = db.relationship(\"User\", secondary=\"user_documents\", back_populates=\"documents\")", "scope": "Document", "scopeKind": "class", "description": "unavailable"}, {"name": "version = db.relationship(\"DocumentVersion\")", "scope": "ProcessingJob", "scopeKind": "class", "description": "unavailable"}, {"name": "version_id = db.Column(db.Integer, db.ForeignKey(\"document_versions.id\"), nullable=True, ind/", "scope": "ProcessingJob", "scopeKind": "class", "description": "unavailable"}, {"name": "versions = db.relationship(\"DocumentVersion\", back_populates=\"document\", cascade=\"all, delet/", "scope": "Document", "scopeKind": "class", "description": "unavailable"}]}